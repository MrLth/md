# 1. 盒子模型

## 1.1 组成

1. 内容 **content**
2. 填充 **padding**
3. 边框 **border**
4. 边界 **margin**

## 1.2 分类

1. **IE盒子模型** **border-box**，width，height 包含 content、border、padding

 	2. **W3C**标准盒子模型 **content-box** ，width，height 只包含 content

## 1.3 box-sizing

​	在 IE8+ 的浏览器可以通过 box-sizing 来控制使用的盒子的模型，默认值为 **content-box**

# 2. BFC

​	Block formatting context 块级格式化上下文，是一个独立的布局环境，可以理解为一个容器，在这个容器中布局的元素，不会影响到容器外的元素，外部的元素的布局也不会影响到容器内部的元素

**如何创建**

1. 根元素或者包含根元素的元素
2. position = absolute | fixed
3. float != none
4. display = inline-block | flex | inline-flex | table-cell | table-caption
5. overflow != visible 

# 3. IFC

​	Inline formatting context 行内格式化上下文，它有以下布局规则：

1. IFC 内部的例子会在水平方向，一个接一个地放置
2. 当一行不够时，会自动切换到下一行
3. 行级上下文的高度由内部最高的内联盒子的高度决定

# 4. 清除浮动的原因和方法

 	当元素浮动后，不再属于文档流中的普通流，不会影响块级元素的布局（但此时浮动元素已经从普通流中移除了，所以前移是必要的），只会影响行内元素的布局，此时文档流中的普通流就会表现得不同寻常，而当包含块的高度小于浮动元素时，还会发生高度塌陷，影响包含块后面的元素的布局

**清除方法**

1. clear
2. 将父元素独立为一个新 BFC

# 5. clear 清除浮动的原理

```scss
clear: both | left | right | none
```

​	从字面上看，`clear:left` 是清除左浮动，`clear:right` 是清除右浮动，实际上，这种解释并不对，因为浮动一直还在，并没有清除，官方对 clear 的解释是 **元素盒子的边不能和前面的浮动元素相邻**，换言之，clear 是为了清除浮动元素对该元素的影响，而不是清除掉浮动。

```scss
.clear::after{
	content: '';
    display: block; // clear 只对块级元素有效
    clear:both; // 父元素最后一个块不受浮动元素的影响，那么他的定位就是正常的，也就把父元素的高度撑开了
}
```

> ​	由于 float 同一时刻只能为 left 或者 right，并且 clear 对后面的浮动元素是不管的，因此，clear:right 有效的时候，clear:left 必定无效，等同于设置 clear:both；clear:left 有效的时候，clear:right 必定无效，也等同于设置 clear:both。所以在任何时候，clear:both 完全可以代替 clear:right 和 clear: left

# 6. zoom: 1 清除浮动的原理

​	zoom 是 IE 浏览器专有属性，它可以设置或检索对象的绽放比例。解决 IE 下比较奇葩的 BUG，如 margin 重叠、清除浮动、触发 hasLayout等。

​	当设置了 zoom 的值后，所元素的元素就会放大或者缩小，浏览器就会重新计算元素的高度和宽度，从而触发重排，通过这个原理也就解决了 IE 下子元素浮动的时候父元素不随着自动扩大的问题

> zoom 已经出现在 CSS 3.0 的草案中

# 2. 元素居中

## 2.1 宽高固定

1. `margin:auto` 实现水平居中
2. 绝对定位，`top:50%;left:50%` 加上 `负margin`
3. 绝对定位，四个方向的值都为`0`， 设置 `magin:auto`

## 2.2 宽高不定

4. `flex`布局，`justify-content:center;align-items:center`
5. 绝对定位，`top:50%;left:50%` 配合 `transform:translate(-50%, -50%)`

# 3. CSS 实现 三角形

## 3.1 border

​	元素宽高均设为 0 ，只设置 border，然后隐藏掉另外三边，剩下的就是一个三角形

# 4. CSS 实现多列等高

1. flex 布局， align-content:strech

2. display:table-cell，表格的单元格高度相等

3. position:absolute; top:0; bottom:0

4. ```scss
   .box {
       overflow:hidden // 创建 BFC ,清除浮动
   }
   .box > div{
       padding-bottom: 10000px; // 顶开背景色的高度
       margin-bottom:-10000px; // 收缩高度
       float:left; // 水平分布
   }
   ```

   

# 5. 包含块

​	当元素被赋予了百分比值时，它的计算值就是由这个元素的包含块计算而来的，主要包括以下属性：

1. **`height、top、bottom`**的百分比，是通过包含块的 **`height`** 来计算的

> 如果包含块没有指定 height，使包含块的 height 根据它的内容变化 ，而且包含块的 position 为 relative 或者 static ，那么这些值的计算结果为 auto

2. **`width、left、right、padding、margin`**的百分比，是通过包含块的 **`width`** 来计算的

## 5.1 确定包含块

确定一个元素的包含块的过程完全依赖于这个元素的 [`position`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/position) 属性：

1. 根元素（很多情况下可以看作是 <html>）被称为**初始包含块**，其尺寸等于浏览器视口的大小
2. 如果 position 属性为 `static` 、 `relative` 或 `sticky`，包含块可能由它的最近的祖先**块元素**（比如说inline-block, block 或 list-item元素）的内容区的边缘组成，也可能会建立格式化上下文(比如说 a table container, flex container, grid container, 或者是 the block container 自身)。
3. 如果 position 属性为 `absolute` ，包含块就是由它的最近的 position 的值不是 `static` （也就是值为`fixed`, `absolute`, `relative` 或 `sticky`）的祖先元素的内边距区的边缘组成。
4. 如果 position 属性是 **`fixed`**，在连续媒体的情况下(continuous media)包含块是 [viewport](https://developer.mozilla.org/zh-CN/docs/Glossary/Viewport) ,在分页媒体(paged media)下的情况下包含块是分页区域(page area)。
5. 如果 position 属性是 `absolute` 或 `fixed`，包含块也可能是由满足以下条件的最近父级元素的内边距区的边缘组成的：
   1.  [`transform`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform) 或 [`perspective`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/perspective) 的值不是 `none`
   2.  [`will-change`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/will-change) 的值是 `transform` 或 `perspective`
   3.  [`filter`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/filter) 的值不是 `none` 或 `will-change` 的值是 `filter`(只在 Firefox 下生效).
   4.  [`contain`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/contain) 的值是 `paint` (例如: `contain: paint;`)
